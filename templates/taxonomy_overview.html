{% extends "base.html" %}

{% block content %}
<body>
    <div class = "title_prompts">
        <h1>Taxonomie Overzicht</h1>
    </div>
    <div class="container container_prompt_overview">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">Taxonomie</th>
                        <th scope="col">Acties</th>
                    </tr>
                </thead>
                    {% for taxonomy in taxonomy_page %}
                    <tr>
                        <td>{{taxonomy.ai_taxonomy}}</td>
                        <td><button class="btn btn-primary" onclick="window.location.href='/taxonomy_update/{{taxonomy.taxonomy_id}}'">Bewerken</button></td>
                    </tr>
                    {% endfor %}
            </table>
            {% if total_pages > 1 %}
            <div class="pagination">
                {% if page > 1 %}
                    <a href="{{ url_for('taxonomy_overview', page=page-1) }}" class="arrow" title="Vorige pagina">❮</a>
                {% else %}
                    <a class="arrow disabled" title="Vorige pagina">❮</a>
                {% endif %}
                
                {% if page > 3 %}
                    <a href="{{ url_for('taxonomy_overview', page=1) }}">1</a>
                    <span class="dots">...</span>
                {% endif %}
                
                {% for page_num in range(
                    [1, page - 1]|max, 
                    [total_pages + 1, page + 2]|min
                ) %}
                    {% if page_num == page %}
                        <a href="#" class="current">{{ page_num }}</a>
                    {% else %}
                        <a href="{{ url_for('taxonomy_overview', page=page_num) }}">
                            {{ page_num }}
                        </a>
                    {% endif %}
                {% endfor %}
                
                {% if page < total_pages - 2 %}
                    <span class="dots">...</span>
                    <a href="{{ url_for('taxonomy_overview', page=total_pages) }}">
                        {{ total_pages }}
                    </a>
                {% endif %}
            
                {% if page < total_pages %}
                    <a href="{{ url_for('taxonomy_overview', page=page+1) }}" class="arrow" title="Volgende pagina">❯</a>
                {% else %}
                    <a class="arrow disabled" title="Volgende pagina">❯</a>
                {% endif %}
            </div>
    </div>{% endif %}
</body>

{% endblock %}